{
  "deploy": {
    "cmd": ["npm", "run", "start:railway"],
    "healthcheck": "/healthz",
    "sleepApplication": false
  },
  "build": {
    "builder": "nixpacks",
    "nixpacksConfig": {
      "phases": {
        "install": {
          "cmd": ["npm install --no-audit --no-fund --no-optional --legacy-peer-deps"]
        }
      },
      "startCmd": "node index.js",
      "installNode": true,
      "installNpm": true
    }
  },
  "env": {
    "N8N_BASIC_AUTH_ACTIVE": {
      "value": "false",
      "type": "string"
    },
    "N8N_SECURE_COOKIE": {
      "value": "false",
      "type": "string"
    },
    "NODE_ENV": {
      "value": "production",
      "type": "string"
    },
    "TZ": {
      "value": "Asia/Jakarta",
      "type": "string"
    },
    "N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS": {
      "value": "false",
      "type": "string"
    },
    "N8N_PERSONALIZATION_ENABLED": {
      "value": "false",
      "type": "string"
    },
    "N8N_HEALTH_CHECKER": {
      "value": "true",
      "type": "string"
    }
  },
  "variables": {
    "GEMINI_API_KEY": {
      "required": true
    },
    "SUPABASE_URL": {
      "required": true
    },
    "SUPABASE_KEY": {
      "required": true
    },
    "YOUTUBE_API_1": {
      "required": true
    },
    "YOUTUBE_CHANNEL_1": {
      "required": true
    },
    "YOUTUBE_API_2": {
      "required": true
    },
    "YOUTUBE_CHANNEL_2": {
      "required": true
    },
    "YOUTUBE_API_3": {
      "required": true
    },
    "YOUTUBE_CHANNEL_3": {
      "required": true
    },
    "TELEGRAM_API_KEY": {
      "required": true
    },
    "TELEGRAM_CHAT_ID": {
      "required": true
    }
  },
  "startCommand": "node index.js"
}